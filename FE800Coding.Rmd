---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
## plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

```{r}
getwd()
setwd("C:/Users/binta.d.patel/Desktop/Stevens/FE800/")

## read Donald Trump tweets downloaded from trumptwitterarchive.com 
realDT <- read.csv("DonaldTrumpTweets.csv",header = TRUE)

```

```{r}
## see first 6 rows of the dataset
head(realDT)

## tail(realDT)
```

```{r}
## check number of rows and columns
nrow(realDT)
ncol(realDT)
```

```{r}
## check date range of tweets
summary(realDT)
```

```{r}
#Read Stock Data
stockdata <- read.csv("stockdata.csv", header = TRUE, sep = ",")
```

```{r}
#summarize Stock Data
head(stockdata)
```

```{r}
## Number of Rows in stock market data
nrow(stockdata)
```
```{r}
overnight_ret_1_min <- subset(stockdata, overnight_1 == 1) ## select the subject of returns that are from close of business to opening of next business day
ret_1_min <- subset(stockdata, overnight_1 == 0) ## select the subset of 1 minute returns that are intraday
ret_2_min <- subset(stockdata, overnight_2 == 0) ## select the subset of 2 minute returns that are intraday
ret_5_min <- subset(stockdata, overnight_5 == 0) ## select the subset of 5 minute returns that are intraday
ret_10_min <- subset(stockdata, overnight_10 == 0) ## select the subset of 10 minute returns that are intraday
ret_20_min <- subset(stockdata, overnight_20 == 0) ## select the subset of 20 minute returns that are intraday
ret_30_min <- subset(stockdata, overnight_30 == 0) ## select the subset of 30 minute returns that are intraday
ret_60_min <- subset(stockdata, overnight_60 == 0) ## select the subset of 60 minute returns that are intraday
ret_120_min <- subset(stockdata, overnight_120 == 0) ## select the subset of 120 minute returns that are intraday
ret_240_min <- subset(stockdata, overnight_240 == 0) ## select the subset of 240 minute returns that are intraday
ret_360_min <- subset(stockdata, overnight_360 == 0) ## select the subset of 360 minute returns that are intraday



```
```{r}






```

```{r Statistics }
##  Statistics about 1, 2, 5, 10, 20, 30, 60, 120, 240, and 360-minute returns
max1 <- max(ret_1_min$ret_1_min) #max return
min1 <- min(ret_1_min$ret_1_min) #min return
mean1 <- mean(ret_1_min$ret_1_min) #mean
sd1 <- sd(ret_1_min$ret_1_min) #standard deviation

max2 <- max(ret_2_min$ret_2_min) #max return
min2 <- min(ret_2_min$ret_2_min) #min return
mean2 <- mean(ret_2_min$ret_2_min) #mean
sd2 <- sd(ret_2_min$ret_2_min) #standard deviation

max5 <- max(ret_5_min$ret_5_min) #max return
min5 <- min(ret_5_min$ret_5_min) #min return
mean5 <- mean(ret_5_min$ret_5_min) #mean
sd5 <- sd(ret_5_min$ret_5_min) #standard deviation

max10 <- max(ret_10_min$ret_10_min) #max return
min10 <- min(ret_10_min$ret_10_min) #min return
mean10 <- mean(ret_10_min$ret_10_min) #mean
sd10 <- sd(ret_10_min$ret_10_min) #standard deviation

max20 <- max(ret_20_min$ret_20_min) #max return
min20 <- min(ret_20_min$ret_20_min) #min return
mean20 <- mean(ret_20_min$ret_20_min) #mean
sd20 <- sd(ret_20_min$ret_20_min) #standard deviation

max30 <- max(ret_30_min$ret_30_min) #max return
min30 <- min(ret_30_min$ret_30_min) #min return
mean30 <- mean(ret_30_min$ret_30_min) #mean
sd30 <- sd(ret_30_min$ret_30_min) #standard deviation

max60 <- max(ret_60_min$ret_60_min) #max return
min60 <- min(ret_60_min$ret_60_min) #min return
mean60 <- mean(ret_60_min$ret_60_min) #mean
sd60 <- sd(ret_60_min$ret_60_min) #standard deviation

max120 <- max(ret_120_min$ret_120_min) #max return
min120 <- min(ret_120_min$ret_120_min) #min return
mean120 <- mean(ret_120_min$ret_120_min) #mean
sd120 <- sd(ret_120_min$ret_120_min) #standard deviation

max240 <- max(ret_240_min$ret_240_min) #max return
min240 <- min(ret_240_min$ret_240_min) #min return
mean240 <- mean(ret_240_min$ret_240_min) #mean
sd240 <- sd(ret_240_min$ret_240_min) #standard deviation

max360 <- max(ret_360_min$ret_360_min) #max return
min360 <- min(ret_360_min$ret_360_min) #min return
mean360 <- mean(ret_360_min$ret_360_min) #mean
sd360 <- sd(ret_360_min$ret_360_min) #standard deviation

maxon <- max(overnight_ret_1_min$ret_1_min, na.rm=TRUE) #max return
minon <- min(overnight_ret_1_min$ret_1_min, na.rm=TRUE) #min return
meanon <- mean(overnight_ret_1_min$ret_1_min, na.rm=TRUE) #mean
sdon <- sd(overnight_ret_1_min$ret_1_min, na.rm=TRUE) #standard deviation


```

```{r}
## Create Summary Table

sumtable <- matrix(c(max1, min1, mean1, sd1, max2, min2, mean2, sd2, max5, min5, mean5, sd5, max10, min10, mean10, sd10, max20, min20, mean20, sd20, max30, min30, mean30, sd30, max60, min60, mean60, sd60, max120, min120, mean120, sd120, max240, min240, mean240, sd240, max360, min360, mean360, sd30, maxon, minon, meanon, sdon), ncol = 4, byrow = TRUE)
colnames(sumtable) <- c("Max", "Min", "Mean", "Std. Dev")
rownames(sumtable) <- c("1 Minute", "2 Minutes", "5 Minutes", "10 Minutes", "20 Minutes", "30 Minutes", "60 Minutes", "120 Minutes", "240 Minutes", "360 Minutes", "Overnight")
sumtable <- as.table(sumtable)
sumtable
```



```{r}
##  Histograms

## Histogram of minute by minute stock returns
hist(ret_1_min$ret_1_min, 
     breaks = 500,
     main = "1 Minute Intraday Returns",
     xlab = "Minute Level Returns", 
     col = "Light Blue")
hist(overnight_ret_1_min$ret_1_min, 
     breaks = 100,
     main = "Overnight Returns",
     xlab = "End of Trading Day to Beginning of Next Trading Day Returns", 
     col = "Red")

```


